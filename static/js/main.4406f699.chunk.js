(this["webpackJsonpreact-rest-api"]=this["webpackJsonpreact-rest-api"]||[]).push([[0],{24:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(2),c=n(17),i=n.n(c),s=(n(24),n(25),n(8)),o=n(3),l=n(4),u=n(6),h=n(5),j=n(18),b=n.n(j);function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return b.a.get("http://hn.algolia.com/api/v1/search?query=".concat(t,"&page=").concat(e)).then((function(t){return t.data.hits}))}function d(t){var e=t.articles;return Object(r.jsx)("ul",{children:e.map((function(t){return Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:t.title})},t.objectID)}))})}function f(t){var e=t.message;return Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:e})})}function m(t){var e=t.message;return Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:e})})}var g=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={inputValue:""},t.handlerInput=function(e){t.setState({inputValue:e.target.value})},t.handlerSubmit=function(e){e.preventDefault(),t.props.onSerch(t.state.inputValue),t.setState({inputValue:""})},t}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("form",{onSubmit:this.handlerSubmit,children:[Object(r.jsxs)("label",{children:["Enter value",Object(r.jsx)("input",{type:"text",value:this.state.inputValue,onChange:this.handlerInput})]}),Object(r.jsx)("button",{type:"submit",children:"Serch"})]})}}]),n}(a.Component),O=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={articles:[],loading:!1,eror:null,serchFormValue:"",page:0},t.handlerSerchFormSubmit=function(e){t.setState({articles:[],serchFormValue:e,page:0})},t.fethArticles=function(){t.setState({loading:!0}),p(t.state.serchFormValue,t.state.page).then((function(e){t.setState((function(t){return{articles:[].concat(Object(s.a)(t.articles),Object(s.a)(e)),page:t.page+1}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return t.setState({eror:e})})).finally((function(){return t.setState({loading:!1})}))},t}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(t,e){e.serchFormValue!==this.state.serchFormValue&&this.fethArticles()}},{key:"render",value:function(){console.log(this.state.articles);var t=this.state,e=t.eror,n=t.articles,c=t.loading;return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(g,{onSerch:this.handlerSerchFormSubmit}),e&&Object(r.jsx)(f,{message:"EROR:".concat(e.message)}),n.length>0&&Object(r.jsx)(d,{articles:n}),c&&Object(r.jsx)(m,{message:"...Loading"}),n.length>0&&!c&&Object(r.jsx)("button",{type:"button",onClick:this.fethArticles,children:"LoadMore"})]})}}]),n}(a.Component);i.a.render(Object(r.jsx)(O,{}),document.querySelector("#root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.4406f699.chunk.js.map